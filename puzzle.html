<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puzzle Games - Brain Training Collection</title>
    <link rel="stylesheet" href="puzzle.css">
</head>
<body>
    <div id="game-container">
        <div id="back-button" onclick="goBack()">‚Üê Back to Games</div>
        
        <header>
            <h1 id="game-title">üé≤ Puzzle Games</h1>
            <div id="game-stats">
                <div class="stat">
                    <span class="stat-label">Score</span>
                    <span id="score">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Time</span>
                    <span id="time">00:00</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Moves</span>
                    <span id="moves">0</span>
                </div>
            </div>
        </header>

        <!-- Puzzle Selection Screen -->
        <div id="selection-screen" class="screen active">
            <h2>Choose Your Brain Challenge</h2>
            <p>Train your mind with these engaging puzzles!</p>
            
            <div class="puzzle-grid">
                <div class="puzzle-card" data-game="sliding">
                    <div class="puzzle-icon">üß©</div>
                    <h3>Sliding Puzzle</h3>
                    <p>Classic 15-puzzle game</p>
                    <p>Arrange numbers in order</p>
                    <button class="start-btn">Play Now</button>
                </div>
                
                <div class="puzzle-card" data-game="wordsearch">
                    <div class="puzzle-icon">üìù</div>
                    <h3>Word Search</h3>
                    <p>Find hidden words</p>
                    <p>Multiple difficulty levels</p>
                    <button class="start-btn">Play Now</button>
                </div>
                
                <div class="puzzle-card" data-game="number">
                    <div class="puzzle-icon">üî¢</div>
                    <h3>Number Puzzle</h3>
                    <p>Mathematical challenges</p>
                    <p>Logic and arithmetic</p>
                    <button class="start-btn">Play Now</button>
                </div>
                
                <div class="puzzle-card" data-game="pattern">
                    <div class="puzzle-icon">üé®</div>
                    <h3>Pattern Match</h3>
                    <p>Visual pattern recognition</p>
                    <p>Color and shape puzzles</p>
                    <button class="start-btn">Play Now</button>
                </div>
                
                <div class="puzzle-card" data-game="builder">
                    <div class="puzzle-icon">üñºÔ∏è</div>
                    <h3>Puzzle Builder</h3>
                    <p>Create custom puzzles</p>
                    <p>Upload your own images</p>
                    <button class="start-btn">Build Now</button>
                </div>
            </div>
        </div>

        <!-- Sliding Puzzle Game -->
        <div id="sliding-screen" class="screen">
            <h2>üß© Sliding Puzzle</h2>
            <p>Arrange the numbers from 1 to 15 in order</p>
            
            <div class="difficulty-selector">
                <button class="difficulty-btn active" data-difficulty="easy">3x3 Easy</button>
                <button class="difficulty-btn" data-difficulty="medium">4x4 Classic</button>
                <button class="difficulty-btn" data-difficulty="hard">5x5 Hard</button>
            </div>
            
            <div id="sliding-board" class="sliding-board"></div>
            
            <div class="game-controls">
                <button class="action-btn new-game-btn">ÔøΩ New Game</button>
                <button class="action-btn back-to-menu-btn">‚Üê Back</button>
            </div>
        </div>

        <!-- Word Search Game -->
        <div id="wordsearch-screen" class="screen">
            <h2>üìù Word Search</h2>
            <p>Find all the hidden words in the grid</p>
            
            <div class="difficulty-selector">
                <button class="difficulty-btn" data-difficulty="easy">Easy (8x8)</button>
                <button class="difficulty-btn active" data-difficulty="medium">Medium (10x10)</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard (12x12)</button>
            </div>
            
            <div class="word-list">
                <h4>Find these words:</h4>
                <div id="words-to-find"></div>
            </div>
            
            <div id="word-grid" class="word-grid"></div>
            
            <div class="game-controls">
                <button class="action-btn new-game-btn">üÜï New Puzzle</button>
                <button class="action-btn back-to-menu-btn">‚Üê Back</button>
            </div>
        </div>

        <!-- Number Puzzle Game -->
        <div id="number-screen" class="screen">
            <h2>üî¢ Number Puzzle</h2>
            <p>Solve mathematical challenges</p>
            
            <div class="difficulty-selector">
                <button class="difficulty-btn" data-difficulty="easy">Easy (+/-)</button>
                <button class="difficulty-btn active" data-difficulty="medium">Medium (√ó)</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard (√∑)</button>
            </div>
            
            <div id="number-puzzle-area">
                <div id="number-question"></div>
                <div id="number-options"></div>
            </div>
            
            <div class="game-controls">
                <button class="action-btn new-game-btn">üîÑ New Game</button>
                <button class="action-btn back-to-menu-btn">‚Üê Back</button>
            </div>
        </div>

        <!-- Pattern Match Game -->
        <div id="pattern-screen" class="screen">
            <h2>üé® Pattern Match</h2>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                <p><strong>üéØ How to Play:</strong></p>
                <p>‚Ä¢ Look for the <strong>logical pattern</strong> in the sequence</p>
                <p>‚Ä¢ Find which color should replace the <strong>?</strong></p>
                <p>‚Ä¢ Patterns can be: alternating, repeating, sequential, or mirrored</p>
                <p>‚Ä¢ Each puzzle has a <strong>hint</strong> to help you understand the pattern type</p>
            </div>
            
            <div class="difficulty-selector">
                <button class="difficulty-btn" data-difficulty="easy">Easy (4 items)</button>
                <button class="difficulty-btn active" data-difficulty="medium">Medium (6 items)</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard (8 items)</button>
            </div>
            
            <div id="pattern-display">
                <div id="pattern-sequence"></div>
                <div id="pattern-options"></div>
            </div>
            
            <div class="game-controls">
                <button class="action-btn new-game-btn">üîÑ New Pattern</button>
                <button class="action-btn back-to-menu-btn">‚Üê Back</button>
            </div>
        </div>

        <!-- Puzzle Builder Game -->
        <div id="builder-screen" class="screen">
            <h2>üñºÔ∏è Puzzle Builder</h2>
            <p>Create custom sliding puzzles with your own images</p>
            
            <!-- Image Selection Phase -->
            <div class="image-selection">
                <h3>Choose Your Image</h3>
                
                <!-- Preset Images -->
                <div class="preset-images">
                    <h4>Preset Images</h4>
                    <div class="preset-grid">
                        <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300" class="preset-img" alt="Mountain">
                        <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300" class="preset-img" alt="Forest">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300" class="preset-img" alt="Beach">
                        <img src="https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=300" class="preset-img" alt="Space">
                        <img src="https://images.unsplash.com/photo-1574469981298-96dfbb45894e?w=300" class="preset-img" alt="City">
                        <img src="https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=300" class="preset-img" alt="Lake">
                    </div>
                </div>
                
                <!-- Custom Upload -->
                <div class="custom-upload">
                    <h4>Or Upload Your Own</h4>
                    <div class="upload-area">
                        <input type="file" id="image-upload" accept="image/*" style="display: none;">
                        <button class="upload-btn" onclick="document.getElementById('image-upload').click()">
                            üì§ Choose Image
                        </button>
                        <p style="font-size: 0.9em; opacity: 0.7;">JPG, PNG, GIF (max 5MB)</p>
                    </div>
                </div>
                
                <button class="create-puzzle-btn" onclick="createPuzzle()" disabled>
                    üéØ Create Puzzle
                </button>
            </div>
            
            <!-- Puzzle Game Phase -->
            <div class="puzzle-game" style="display: none;">
                <div class="puzzle-container">
                    <div class="puzzle-preview" id="puzzle-preview">
                        <!-- Preview image will be shown here -->
                    </div>
                    
                    <div class="puzzle-board" id="puzzle-board">
                        <!-- Puzzle pieces will be generated here -->
                    </div>
                </div>
                
                <div class="puzzle-controls">
                    <button class="action-btn shuffle-btn" onclick="shufflePuzzle()" disabled>
                        üîÄ Shuffle
                    </button>
                    <button class="action-btn hint-btn" onclick="showHint()">
                        üí° Hint
                    </button>
                    <button class="action-btn reset-btn" onclick="resetPuzzleBuilder()">
                        üîÑ New Image
                    </button>
                    <button class="action-btn back-to-menu-btn">‚Üê Back</button>
                </div>
                
                <div class="puzzle-stats">
                    <div class="stat">
                        <span>Time: </span>
                        <span id="puzzle-time">00:00</span>
                    </div>
                    <div class="stat">
                        <span>Moves: </span>
                        <span id="puzzle-moves">0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victory-screen" class="screen">
            <h2>üéâ Puzzle Complete!</h2>
            <p>Congratulations! You solved it!</p>
            
            <div class="victory-stats">
                <div class="victory-stat">
                    <span class="victory-label">Final Score</span>
                    <span id="final-score">0</span>
                </div>
                <div class="victory-stat">
                    <span class="victory-label">Time</span>
                    <span id="final-time">00:00</span>
                </div>
                <div class="victory-stat">
                    <span class="victory-label">Moves</span>
                    <span id="final-moves">0</span>
                </div>
            </div>
            
            <div class="victory-buttons">
                <button class="action-btn new-game-btn">üîÑ Play Again</button>
                <button class="action-btn back-to-menu-btn">üé≤ Try Another</button>
                <button class="action-btn" onclick="window.location.href='index.html'">‚Üê Main Menu</button>
            </div>
        </div>
    </div>

    <style>
        .coming-soon-info {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 600px;
            text-align: left;
        }
        
        .coming-soon-info h3 {
            text-align: center;
            margin-bottom: 1rem;
            color: #4ecdc4;
        }
        
        .coming-soon-info ul {
            list-style: none;
            padding: 0;
        }
        
        .coming-soon-info li {
            padding: 0.5rem 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .start-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(255, 255, 255, 0.1);
        }
        
        @keyframes bounce {
            0%, 20%, 60%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            80% { transform: translateY(-5px); }
        }
    </style>
    <script src="game-audio.js"></script>
    <script src="puzzle-builder.js"></script>
    <script src="puzzle.js"></script>
    <script src="feedback-widget.js"></script>
    
    <!-- Pizza Payment Widget -->
    <link rel="stylesheet" href="pizza-payment.css">
    <script src="pizza-payment.js"></script>
    
    <script>
        // Initialize widgets
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof initializeFeedbackWidget === 'function') {
                initializeFeedbackWidget();
            }
        });
    </script>
    
    <!-- Fixed Puzzle Builder Script -->
    <script src="puzzle-builder-fixed.js"></script>
    
    <!-- Feedback Widget -->
    <link rel="stylesheet" href="feedback-widget.css">
    <script src="feedback-widget-new.js"></script>
</body>
</html>
